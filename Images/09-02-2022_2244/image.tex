\documentclass[margin=20mm]{standalone}

\usepackage[T1]{fontenc}                             % make fonts work?
\usepackage[hidelinks]{hyperref}                     % links
\usepackage[side]{footmisc}                          % footnotes
\usepackage{geometry}                                % page layout
\usepackage{fancyhdr}                                % headers and footers
\usepackage{titlesec}                                % title page
\usepackage{tocloft}                                 % custom table of contents
\usepackage{amsfonts, amsmath, amssymb, amsthm}      % basic maths commands
\usepackage{mathtools}                               % more maths commands
\usepackage{mathrsfs}                                % more math commands
\usepackage{mdframed}                                % framed environments
\usepackage{graphicx}                                % images and other graphics
\usepackage{tikz}                                    % maths figures
\usepackage{tikz-3dplot}                             % needed by tikz
\usepackage{tikzpagenodes}                           % needed by tikz
\usepackage{pgfplots}\pgfplotsset{compat=1.7}        % plots
\usepackage{contour}                                 % underlining
\usepackage{ulem}                                    % needed by contour
\usepackage{xcolor}                                  % more colors
\usepackage{caption}                                 % captions outside float
\usepackage{enumitem}                                % enumerate and itemize indents
\usepackage{nicematrix}                              % matrices and tables
\usepackage{marginnote}                              % margin notes

\input{../../preamble.sty}

\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{patterns}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{backgrounds}
\usetikzlibrary{math}
\usetikzlibrary{cd}

\definecolor{textColor}{RGB}{248, 248, 255}
\definecolor{bgColor}{RGB}{29, 32, 38}
\definecolor{bgColorAD}{RGB}{18, 19, 23}
\definecolor{shadeColor}{RGB}{77, 77, 77}

\begin{document}
    \begin{tikzpicture}[color=textColor]
        \newcommand{\pathA}{(-0.50,+1.25) .. controls (+1.00,+0.75) and (+1.75,+1.75) .. (+2.50,+1.75)}
        \newcommand{\pathB}{(+2.50,+1.75) .. controls (+3.25,+1.75) and (+1.75,+0.50) .. (+2.50,-0.75)}
        \newcommand{\pathC}{(+2.50,-0.75) .. controls (+3.25,-2.00) and (+1.00,-0.25) .. (-0.25,-1.25)}
        \newcommand{\pathD}{(-0.25,-1.25) .. controls (-1.50,-2.25) and (-1.50,-0.75) .. (-1.50,-0.25)}
        \newcommand{\pathE}{(-1.50,-0.25) .. controls (-1.50,+0.25) and (-1.75,+0.75) .. (-1.75,+0.75)}
        \newcommand{\pathF}{(-1.75,+0.75) .. controls (-2.00,+1.25) and (-1.25,+1.50) .. (-0.50,+1.25)}
        \draw[dashed, thick, dash phase=11pt, color=textColor] \pathA -- \pathB -- \pathC -- \pathD -- \pathE -- \pathF -- cycle;
        \fill[color=shadeColor] \pathA -- \pathB -- \pathC -- \pathD -- \pathE -- \pathF;

        \draw (2.8,2) circle (0) node {\footnotesize{$W\in\mc{T}_\mathrm{pr}$}};

        \fill[pattern=north west lines, pattern color=textColor] (-1,-2) rectangle (0,2);
        \fill[pattern=north east lines, pattern color=textColor] (-2,-0.75) rectangle (3,0);

        \draw[thick, color=textColor] (-1,-0.75) rectangle (0,0);

        \draw (4,-0.375) circle (0) node {\footnotesize{$\preim_{\pi_2}\!(V)$}};
        \draw (-0.5,2.3) circle (0) node {\footnotesize{$\preim_{\pi_1}\!(U)$}};
    \end{tikzpicture}
\end{document}
